<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.251">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>exploring_data</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="exploring_data_files/libs/clipboard/clipboard.min.js"></script>
<script src="exploring_data_files/libs/quarto-html/quarto.js"></script>
<script src="exploring_data_files/libs/quarto-html/popper.min.js"></script>
<script src="exploring_data_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="exploring_data_files/libs/quarto-html/anchor.min.js"></script>
<link href="exploring_data_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="exploring_data_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="exploring_data_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="exploring_data_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="exploring_data_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Contents</h2>
   
  <ul>
  <li><a href="#exploring-data" id="toc-exploring-data" class="nav-link active" data-scroll-target="#exploring-data">Exploring Data</a>
  <ul class="collapse">
  <li><a href="#big-five-personality-data" id="toc-big-five-personality-data" class="nav-link" data-scroll-target="#big-five-personality-data">Big Five Personality Data</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">



<section id="exploring-data" class="level1">
<h1>Exploring Data</h1>
<p>Initial exploratory data analysis has been conducted below. The data gathered and cleaned previously have been categorized. The specific codes for data exploration can be found below in each respective section.</p>
<section id="big-five-personality-data" class="level2">
<h2 class="anchored" data-anchor-id="big-five-personality-data">Big Five Personality Data</h2>
<p>Prior to diving into the details of the data, itâ€™s important to understand what the Big Five Personality traits are. <strong>Openness</strong> relates to imagination, insight, creativity, and curiousity. <strong>Conscientiousness</strong> relates to thoughtfulness, self-control, attention to detail, and orderliness. <strong>Extraversion</strong> relates to sociability, assertiveness, and excitability. <strong>Agreeableness</strong> relates to prosocial behaviors, such as empathy, altruism, and affection. <strong>Neuroticism</strong> relates to anxiety, low stress tolerance, and emotional instability.<sup>1</sup></p>
<div class="cell" data-execution_count="1">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span>  pandas  <span class="im">as</span>  pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np </span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.read_csv(<span class="st">'../../data/01-modified-data/big_five_final.csv'</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"----------------------"</span>)</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"BASIC STATISTICS:"</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"----------------------"</span>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.describe())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>----------------------
BASIC STATISTICS:
----------------------
             case_id            age            sex  agreeable_score  \
count  212625.000000  212625.000000  212625.000000    212625.000000   
mean   165799.147955      25.163405       1.623812         0.698715   
std     96700.278153      10.237499       0.484429         0.094277   
min         4.000000      10.000000       1.000000         0.200000   
25%     81573.000000      18.000000       1.000000         0.640000   
50%    165123.000000      21.000000       2.000000         0.706667   
75%    248929.000000      29.000000       2.000000         0.766667   
max    334158.000000      99.000000       2.000000         0.986667   

       extraversion_score  openness_score  conscientiousness_score  \
count       212625.000000   212625.000000            212625.000000   
mean             0.675318        0.729864                 0.706433   
std              0.109226        0.088581                 0.107443   
min              0.200000        0.276667                 0.206667   
25%              0.603333        0.670000                 0.633333   
50%              0.683333        0.730000                 0.710000   
75%              0.753333        0.793333                 0.783333   
max              0.990000        0.996667                 1.000000   

       neuroticism_score  
count      212625.000000  
mean            0.574397  
std             0.126158  
min             0.196667  
25%             0.483333  
50%             0.570000  
75%             0.660000  
max             0.996667  </code></pre>
</div>
</div>
<p>The output above is a basic summary statistic output of the Big Five Personality data. Based on the case id count, we can see that out data set contains 212,625 individuals from the U.S. The age column also provides insight on the age of the individuals who have participated in this survey, where the youngest and oldest individuals who have taken this assessment are 10 and 99 years old, but the general age of these individuals hovers from around 18 to 29 years old. Since sex is labeled numerically in this data (where 1 = Men and 2 = Women), the mean sex of 1.6 shows that there are more women than men in this data set. Additionally, it should be noted that the scoring of each personality category is on a scale of 0 to 1, where 0 is low association and 1 is high association with a particular category.</p>
<div class="cell" data-execution_count="2">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df[df.columns[<span class="dv">2</span>:]]</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>df.rename(columns<span class="op">=</span>{<span class="st">"agreeable_score"</span>:<span class="st">'agreeableness'</span>, <span class="st">"extraversion_score"</span>:<span class="st">'extraversion'</span>, <span class="st">"openness_score"</span>:<span class="st">'openness'</span>, <span class="st">"conscientiousness_score"</span>:<span class="st">'conscientiousness'</span>, <span class="st">"neuroticism_score"</span>:<span class="st">'neuroticism'</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>corr <span class="op">=</span> df.corr()</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>sns.<span class="bu">set</span>()</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> heatmap(x, y, <span class="op">**</span>kwargs):</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">'color'</span> <span class="kw">in</span> kwargs:</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>        color <span class="op">=</span> kwargs[<span class="st">'color'</span>]</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        color <span class="op">=</span> [<span class="dv">1</span>]<span class="op">*</span><span class="bu">len</span>(x)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">'palette'</span> <span class="kw">in</span> kwargs:</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        palette <span class="op">=</span> kwargs[<span class="st">'palette'</span>]</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        n_colors <span class="op">=</span> <span class="bu">len</span>(palette)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        n_colors <span class="op">=</span> <span class="dv">256</span> <span class="co"># Use 256 colors for the diverging color palette</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>        palette <span class="op">=</span> sns.color_palette(<span class="st">"Blues"</span>, n_colors) </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">'color_range'</span> <span class="kw">in</span> kwargs:</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>        color_min, color_max <span class="op">=</span> kwargs[<span class="st">'color_range'</span>]</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>        color_min, color_max <span class="op">=</span> <span class="bu">min</span>(color), <span class="bu">max</span>(color) <span class="co"># Range of values that will be mapped to the palette, i.e. min and max possible correlation</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> value_to_color(val):</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> color_min <span class="op">==</span> color_max:</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> palette[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>            val_position <span class="op">=</span> <span class="bu">float</span>((val <span class="op">-</span> color_min)) <span class="op">/</span> (color_max <span class="op">-</span> color_min) <span class="co"># position of value in the input range, relative to the length of the input range</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>            val_position <span class="op">=</span> <span class="bu">min</span>(<span class="bu">max</span>(val_position, <span class="dv">0</span>), <span class="dv">1</span>) <span class="co"># bound the position betwen 0 and 1</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>            ind <span class="op">=</span> <span class="bu">int</span>(val_position <span class="op">*</span> (n_colors <span class="op">-</span> <span class="dv">1</span>)) <span class="co"># target index in the color palette</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> palette[ind]</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">'size'</span> <span class="kw">in</span> kwargs:</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>        size <span class="op">=</span> kwargs[<span class="st">'size'</span>]</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>        size <span class="op">=</span> [<span class="dv">1</span>]<span class="op">*</span><span class="bu">len</span>(x)</span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">'size_range'</span> <span class="kw">in</span> kwargs:</span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>        size_min, size_max <span class="op">=</span> kwargs[<span class="st">'size_range'</span>][<span class="dv">0</span>], kwargs[<span class="st">'size_range'</span>][<span class="dv">1</span>]</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>        size_min, size_max <span class="op">=</span> <span class="bu">min</span>(size), <span class="bu">max</span>(size)</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>    size_scale <span class="op">=</span> kwargs.get(<span class="st">'size_scale'</span>, <span class="dv">500</span>)</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>    <span class="kw">def</span> value_to_size(val):</span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span> size_min <span class="op">==</span> size_max:</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="dv">1</span> <span class="op">*</span> size_scale</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span>:</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>            val_position <span class="op">=</span> (val <span class="op">-</span> size_min) <span class="op">*</span> <span class="fl">0.99</span> <span class="op">/</span> (size_max <span class="op">-</span> size_min) <span class="op">+</span> <span class="fl">0.01</span> <span class="co"># position of value in the input range, relative to the length of the input range</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>            val_position <span class="op">=</span> <span class="bu">min</span>(<span class="bu">max</span>(val_position, <span class="dv">0</span>), <span class="dv">1</span>) <span class="co"># bound the position betwen 0 and 1</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> val_position <span class="op">*</span> size_scale</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">'x_order'</span> <span class="kw">in</span> kwargs: </span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>        x_names <span class="op">=</span> [t <span class="cf">for</span> t <span class="kw">in</span> kwargs[<span class="st">'x_order'</span>]]</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>        x_names <span class="op">=</span> [t <span class="cf">for</span> t <span class="kw">in</span> <span class="bu">sorted</span>(<span class="bu">set</span>([v <span class="cf">for</span> v <span class="kw">in</span> x]))]</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>    x_to_num <span class="op">=</span> {p[<span class="dv">1</span>]:p[<span class="dv">0</span>] <span class="cf">for</span> p <span class="kw">in</span> <span class="bu">enumerate</span>(x_names)}</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="st">'y_order'</span> <span class="kw">in</span> kwargs: </span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>        y_names <span class="op">=</span> [t <span class="cf">for</span> t <span class="kw">in</span> kwargs[<span class="st">'y_order'</span>]]</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>        y_names <span class="op">=</span> [t <span class="cf">for</span> t <span class="kw">in</span> <span class="bu">sorted</span>(<span class="bu">set</span>([v <span class="cf">for</span> v <span class="kw">in</span> y]))]</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>    y_to_num <span class="op">=</span> {p[<span class="dv">1</span>]:p[<span class="dv">0</span>] <span class="cf">for</span> p <span class="kw">in</span> <span class="bu">enumerate</span>(y_names)}</span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>    plot_grid <span class="op">=</span> plt.GridSpec(<span class="dv">1</span>, <span class="dv">15</span>, hspace<span class="op">=</span><span class="fl">0.2</span>, wspace<span class="op">=</span><span class="fl">0.1</span>) <span class="co"># Setup a 1x10 grid</span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> plt.subplot(plot_grid[:,:<span class="op">-</span><span class="dv">1</span>]) <span class="co"># Use the left 14/15ths of the grid for the main plot</span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>    marker <span class="op">=</span> kwargs.get(<span class="st">'marker'</span>, <span class="st">'s'</span>)</span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>    kwargs_pass_on <span class="op">=</span> {k:v <span class="cf">for</span> k,v <span class="kw">in</span> kwargs.items() <span class="cf">if</span> k <span class="kw">not</span> <span class="kw">in</span> [</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>         <span class="st">'color'</span>, <span class="st">'palette'</span>, <span class="st">'color_range'</span>, <span class="st">'size'</span>, <span class="st">'size_range'</span>, <span class="st">'size_scale'</span>, <span class="st">'marker'</span>, <span class="st">'x_order'</span>, <span class="st">'y_order'</span></span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>    ]}</span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>    ax.scatter(</span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>[x_to_num[v] <span class="cf">for</span> v <span class="kw">in</span> x],</span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span>[y_to_num[v] <span class="cf">for</span> v <span class="kw">in</span> y],</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span>marker,</span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>        s<span class="op">=</span>[value_to_size(v) <span class="cf">for</span> v <span class="kw">in</span> size], </span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>        c<span class="op">=</span>[value_to_color(v) <span class="cf">for</span> v <span class="kw">in</span> color],</span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>        <span class="op">**</span>kwargs_pass_on</span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>    ax.set_xticks([v <span class="cf">for</span> k,v <span class="kw">in</span> x_to_num.items()])</span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a>    ax.set_xticklabels([k <span class="cf">for</span> k <span class="kw">in</span> x_to_num], rotation<span class="op">=</span><span class="dv">45</span>, horizontalalignment<span class="op">=</span><span class="st">'right'</span>)</span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>    ax.set_yticks([v <span class="cf">for</span> k,v <span class="kw">in</span> y_to_num.items()])</span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>    ax.set_yticklabels([k <span class="cf">for</span> k <span class="kw">in</span> y_to_num])</span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a>    ax.grid(<span class="va">False</span>, <span class="st">'major'</span>)</span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a>    ax.grid(<span class="va">True</span>, <span class="st">'minor'</span>)</span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>    ax.set_xticks([t <span class="op">+</span> <span class="fl">0.5</span> <span class="cf">for</span> t <span class="kw">in</span> ax.get_xticks()], minor<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>    ax.set_yticks([t <span class="op">+</span> <span class="fl">0.5</span> <span class="cf">for</span> t <span class="kw">in</span> ax.get_yticks()], minor<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>    ax.set_xlim([<span class="op">-</span><span class="fl">0.5</span>, <span class="bu">max</span>([v <span class="cf">for</span> v <span class="kw">in</span> x_to_num.values()]) <span class="op">+</span> <span class="fl">0.5</span>])</span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>    ax.set_ylim([<span class="op">-</span><span class="fl">0.5</span>, <span class="bu">max</span>([v <span class="cf">for</span> v <span class="kw">in</span> y_to_num.values()]) <span class="op">+</span> <span class="fl">0.5</span>])</span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a>    ax.set_facecolor(<span class="st">'#F1F1F1'</span>)</span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Add color legend on the right side of the plot</span></span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> color_min <span class="op">&lt;</span> color_max:</span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a>        ax <span class="op">=</span> plt.subplot(plot_grid[:,<span class="op">-</span><span class="dv">1</span>]) <span class="co"># Use the rightmost column of the plot</span></span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a>        col_x <span class="op">=</span> [<span class="dv">0</span>]<span class="op">*</span><span class="bu">len</span>(palette) <span class="co"># Fixed x coordinate for the bars</span></span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a>        bar_y<span class="op">=</span>np.linspace(color_min, color_max, n_colors) <span class="co"># y coordinates for each of the n_colors bars</span></span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a>        bar_height <span class="op">=</span> bar_y[<span class="dv">1</span>] <span class="op">-</span> bar_y[<span class="dv">0</span>]</span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a>        ax.barh(</span>
<span id="cb3-105"><a href="#cb3-105" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>bar_y,</span>
<span id="cb3-106"><a href="#cb3-106" aria-hidden="true" tabindex="-1"></a>            width<span class="op">=</span>[<span class="dv">5</span>]<span class="op">*</span><span class="bu">len</span>(palette), <span class="co"># Make bars 5 units wide</span></span>
<span id="cb3-107"><a href="#cb3-107" aria-hidden="true" tabindex="-1"></a>            left<span class="op">=</span>col_x, <span class="co"># Make bars start at 0</span></span>
<span id="cb3-108"><a href="#cb3-108" aria-hidden="true" tabindex="-1"></a>            height<span class="op">=</span>bar_height,</span>
<span id="cb3-109"><a href="#cb3-109" aria-hidden="true" tabindex="-1"></a>            color<span class="op">=</span>palette,</span>
<span id="cb3-110"><a href="#cb3-110" aria-hidden="true" tabindex="-1"></a>            linewidth<span class="op">=</span><span class="dv">0</span></span>
<span id="cb3-111"><a href="#cb3-111" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb3-112"><a href="#cb3-112" aria-hidden="true" tabindex="-1"></a>        ax.set_xlim(<span class="dv">1</span>, <span class="dv">2</span>) <span class="co"># Bars are going from 0 to 5, so lets crop the plot somewhere in the middle</span></span>
<span id="cb3-113"><a href="#cb3-113" aria-hidden="true" tabindex="-1"></a>        ax.grid(<span class="va">False</span>) <span class="co"># Hide grid</span></span>
<span id="cb3-114"><a href="#cb3-114" aria-hidden="true" tabindex="-1"></a>        ax.set_facecolor(<span class="st">'white'</span>) <span class="co"># Make background white</span></span>
<span id="cb3-115"><a href="#cb3-115" aria-hidden="true" tabindex="-1"></a>        ax.set_xticks([]) <span class="co"># Remove horizontal ticks</span></span>
<span id="cb3-116"><a href="#cb3-116" aria-hidden="true" tabindex="-1"></a>        ax.set_yticks(np.linspace(<span class="bu">min</span>(bar_y), <span class="bu">max</span>(bar_y), <span class="dv">3</span>)) <span class="co"># Show vertical ticks for min, middle and max</span></span>
<span id="cb3-117"><a href="#cb3-117" aria-hidden="true" tabindex="-1"></a>        ax.yaxis.tick_right() <span class="co"># Show vertical ticks on the right </span></span>
<span id="cb3-118"><a href="#cb3-118" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-119"><a href="#cb3-119" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> corrplot(data, size_scale<span class="op">=</span><span class="dv">500</span>, marker<span class="op">=</span><span class="st">'s'</span>):</span>
<span id="cb3-120"><a href="#cb3-120" aria-hidden="true" tabindex="-1"></a>    corr <span class="op">=</span> pd.melt(data.reset_index(), id_vars<span class="op">=</span><span class="st">'index'</span>)</span>
<span id="cb3-121"><a href="#cb3-121" aria-hidden="true" tabindex="-1"></a>    corr.columns <span class="op">=</span> [<span class="st">'x'</span>, <span class="st">'y'</span>, <span class="st">'value'</span>]</span>
<span id="cb3-122"><a href="#cb3-122" aria-hidden="true" tabindex="-1"></a>    heatmap(</span>
<span id="cb3-123"><a href="#cb3-123" aria-hidden="true" tabindex="-1"></a>        corr[<span class="st">'x'</span>], corr[<span class="st">'y'</span>],</span>
<span id="cb3-124"><a href="#cb3-124" aria-hidden="true" tabindex="-1"></a>        color<span class="op">=</span>corr[<span class="st">'value'</span>], color_range<span class="op">=</span>[<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>],</span>
<span id="cb3-125"><a href="#cb3-125" aria-hidden="true" tabindex="-1"></a>        palette<span class="op">=</span>sns.diverging_palette(<span class="dv">20</span>, <span class="dv">220</span>, n<span class="op">=</span><span class="dv">256</span>),</span>
<span id="cb3-126"><a href="#cb3-126" aria-hidden="true" tabindex="-1"></a>        size<span class="op">=</span>corr[<span class="st">'value'</span>].<span class="bu">abs</span>(), size_range<span class="op">=</span>[<span class="dv">0</span>,<span class="dv">1</span>],</span>
<span id="cb3-127"><a href="#cb3-127" aria-hidden="true" tabindex="-1"></a>        marker<span class="op">=</span>marker,</span>
<span id="cb3-128"><a href="#cb3-128" aria-hidden="true" tabindex="-1"></a>        x_order<span class="op">=</span>data.columns,</span>
<span id="cb3-129"><a href="#cb3-129" aria-hidden="true" tabindex="-1"></a>        y_order<span class="op">=</span>data.columns[::<span class="op">-</span><span class="dv">1</span>],</span>
<span id="cb3-130"><a href="#cb3-130" aria-hidden="true" tabindex="-1"></a>        size_scale<span class="op">=</span>size_scale</span>
<span id="cb3-131"><a href="#cb3-131" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb3-132"><a href="#cb3-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-133"><a href="#cb3-133" aria-hidden="true" tabindex="-1"></a>columns <span class="op">=</span> [<span class="st">'age'</span>, <span class="st">'sex'</span>, <span class="st">'agreeableness'</span>, <span class="st">'extraversion'</span>, <span class="st">'openness'</span>, <span class="st">'conscientiousness'</span>, <span class="st">'neuroticism'</span>] </span>
<span id="cb3-134"><a href="#cb3-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-135"><a href="#cb3-135" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">10</span>))</span>
<span id="cb3-136"><a href="#cb3-136" aria-hidden="true" tabindex="-1"></a>corrplot(corr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<p><img src="exploring_data_files/figure-html/cell-3-output-1.png" width="925" height="852"></p>
</div>
</div>
<div class="cell" data-execution_count="3">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"----------------------"</span>)</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"CORRELATION MATRIX:"</span>)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"----------------------"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(corr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>----------------------
CORRELATION MATRIX:
----------------------
                        age       sex  agreeableness  extraversion  openness  \
age                1.000000  0.016561       0.175844     -0.155381 -0.000831   
sex                0.016561  1.000000       0.237245      0.070725  0.098819   
agreeableness      0.175844  0.237245       1.000000      0.055566  0.157041   
extraversion      -0.155381  0.070725       0.055566      1.000000  0.235345   
openness          -0.000831  0.098819       0.157041      0.235345  1.000000   
conscientiousness  0.261170  0.053846       0.319410      0.139155 -0.061381   
neuroticism       -0.108865  0.195044      -0.177599     -0.423954 -0.030985   

                   conscientiousness  neuroticism  
age                         0.261170    -0.108865  
sex                         0.053846     0.195044  
agreeableness               0.319410    -0.177599  
extraversion                0.139155    -0.423954  
openness                   -0.061381    -0.030985  
conscientiousness           1.000000    -0.456941  
neuroticism                -0.456941     1.000000  </code></pre>
</div>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>